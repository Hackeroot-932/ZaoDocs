---
title: XPath
description: A comprehensive guide to XML Path Language (XPath) and document traversal
icon: CodeXml
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

<div className="p-4 mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-xl shadow-sm">
  <h1 className="text-3xl font-bold text-gray-800 dark:text-white mb-4">XPath: XML Path Language</h1>
  <p className="text-gray-600 dark:text-gray-300">
    XPath is a powerful query language for selecting nodes from XML documents. It provides a way to navigate through elements and attributes in an XML document using path expressions.
  </p>
</div>

## 1. What is XPath?

<div className="p-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-8">
  <h3 className="text-xl font-semibold mb-4 text-gray-800 dark:text-white">Understanding XPath</h3>

  <p className="text-gray-600 dark:text-gray-300 mb-4">
    XPath (XML Path Language) is a query language for selecting nodes from XML documents and computing values based on their content. It's a fundamental tool in XML processing that allows you to navigate through elements and attributes in an XML document.
  </p>

  <div className="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
    <div className="p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg">
      <h4 className="font-semibold text-blue-700 dark:text-blue-300 mb-2">Key Features</h4>
      <ul className="list-disc list-inside text-gray-600 dark:text-gray-300">
        <li>Node selection and traversal</li>
        <li>Condition-based filtering</li>
        <li>Path-based navigation</li>
        <li>Data extraction capabilities</li>
      </ul>
    </div>
    <div className="p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg">
      <h4 className="font-semibold text-purple-700 dark:text-purple-300 mb-2">XPath Versions</h4>
      <ul className="list-disc list-inside text-gray-600 dark:text-gray-300">
        <li>XPath 1.0 (November 1999)</li>
        <li>XPath 2.0 (January 2007)</li>
        <li>XPath 2.0 2nd Ed. (December 2010)</li>
        <li>XPath 3.0 (April 2014)</li>
      </ul>
    </div>
  </div>
</div>

## 2. Document Tree Structure

<div className="p-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-8">
  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
      <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Tree Structure Concepts</h4>
      <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
        <li><strong>Node</strong>: Basic unit in the tree (elements, attributes, text, etc.)</li>
        <li><strong>Root Node</strong>: Top-level node of the document</li>
        <li><strong>Parent Node</strong>: Node that contains other nodes</li>
        <li><strong>Child Node</strong>: Node directly contained by another node</li>
        <li><strong>Sibling Nodes</strong>: Nodes sharing the same parent</li>
        <li><strong>Ancestor/Descendant</strong>: Nodes above/below in hierarchy</li>
      </ul>
    </div>
    
    <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
      <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Node Types</h4>
      <div className="space-y-4">
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Primary Nodes</h5>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>Root Node</li>
            <li>Element Node</li>
            <li>Attribute Node</li>
            <li>Text Node</li>
          </ul>
        </div>
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Special Nodes</h5>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>Comment Node</li>
            <li>Processing Instruction Node</li>
            <li>Namespace Node</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <div className="mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg">
    <p className="text-yellow-800 dark:text-yellow-200">
      ⚠️ Note: DOCTYPE declarations are not considered nodes in the XPath tree model.
    </p>
  </div>
</div>

## 3. XPath Expression Syntax

<Tabs items={["Basic Syntax", "Abbreviated Syntax", "Examples"]}>
  <Tab>
    <div className="p-6 bg-white dark:bg-gray-800 rounded-lg">
      <h4 className="font-bold mb-4 text-blue-600 dark:text-blue-400">Basic Expression Components</h4>
      
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h5 className="font-semibold text-gray-800 dark:text-white mb-2">Axis</h5>
          <p className="text-gray-600 dark:text-gray-300">Defines the tree relationship between nodes</p>
        </div>
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h5 className="font-semibold text-gray-800 dark:text-white mb-2">Predicate</h5>
          <p className="text-gray-600 dark:text-gray-300">Filters node selection based on conditions</p>
        </div>
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h5 className="font-semibold text-gray-800 dark:text-white mb-2">Node Test</h5>
          <p className="text-gray-600 dark:text-gray-300">Identifies node type or name</p>
        </div>
      </div>

      ```xml
      <!-- Basic XPath Expression Structure -->
      axis::nodetest[predicate]
      ```
    </div>
  </Tab>
  <Tab>
    <div className="p-6 bg-white dark:bg-gray-800 rounded-lg">
      <h4 className="font-bold mb-4 text-green-600 dark:text-green-400">Common Abbreviated Syntax</h4>
      
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h5 className="font-semibold text-gray-800 dark:text-white mb-2">Path Operators</h5>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>`/` - Root or child axis</li>
            <li>`//` - Descendant axis</li>
            <li>`..` - Parent axis</li>
            <li>`.` - Current node</li>
            <li>`@` - Attribute axis</li>
          </ul>
        </div>
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h5 className="font-semibold text-gray-800 dark:text-white mb-2">Node Selection</h5>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>`*` - Any element</li>
            <li>`@*` - Any attribute</li>
            <li>`node()` - Any node type</li>
            <li>`text()` - Text nodes</li>
          </ul>
        </div>
      </div>
    </div>
  </Tab>
  <Tab>
    <div className="p-6 bg-white dark:bg-gray-800 rounded-lg">
      ```xml
      <!-- Sample XML -->
      <library>
        <book>
          <title>The Art of Programming</title>
          <author id="1">John Doe</author>
          <year>2023</year>
        </book>
      </library>

      <!-- XPath Examples -->
      /library/book           <!-- Select all book elements -->
      //author               <!-- Select all author elements -->
      //book[@id='1']       <!-- Select book with id=1 -->
      /library/book[1]      <!-- Select first book -->
      //book[year>2020]     <!-- Select books after 2020 -->
      ```
    </div>
  </Tab>
</Tabs>

## 4. Advanced Features

<Tabs items={["Operators & Functions", "Nested Expressions", "Advanced Selection"]}>
  <Tab>
    <div className="p-6 bg-white dark:bg-gray-800 rounded-lg">
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Comparison Operators</h4>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>`=, !=` - Equality comparison</li>
            <li>`<`, `>`, `<=`, `>=` - Numeric comparison</li>
            <li>`and, or, not()` - Logical operators</li>
            <li>`|` - Union operator</li>
          </ul>
        </div>
        
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Position Functions</h4>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>`position()` - Current position in context</li>
            <li>`last()` - Last position in context</li>
            <li>`count()` - Count nodes in selection</li>
            <li>`sum()` - Sum numeric values</li>
          </ul>
        </div>
      </div>
    </div>
  </Tab>
  <Tab>
    <div className="p-6 bg-white dark:bg-gray-800 rounded-lg">
      <div className="space-y-6">
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Finding Related Elements</h4>
          ```xml
          <!-- Finding books by the same author -->
          //book[author = //book[title='Reference Book']/author]/title

          <!-- Finding books published in the same year -->
          //book[year = //book[title='First Book']/year]

          <!-- Finding authors with multiple books -->
          //author[count(//book[author = current()]) > 1]
          ```
        </div>

        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Complex Conditions</h4>
          ```xml
          <!-- Books after 2020 by specific author -->
          //book[year > 2020 and author='John Doe']

          <!-- First or last book of each author -->
          //book[position() = 1 or position() = last()]
          ```
        </div>
      </div>
    </div>
  </Tab>
  <Tab>
    <div className="p-6 bg-white dark:bg-gray-800 rounded-lg">
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h4 className="font-semibold text-gray-800 dark:text-white mb-3">Advanced Node Selection</h4>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>Multiple path selection with `|`</li>
            <li>Conditional node filtering</li>
            <li>Position-based selection</li>
            <li>Attribute-based filtering</li>
          </ul>
        </div>
        <div className="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg">
          <h4 className="font-semibold text-gray-800 dark:text-white mb-3">String Functions</h4>
          <ul className="list-disc pl-5 text-gray-600 dark:text-gray-300">
            <li>`contains()` - Substring check</li>
            <li>`starts-with()` - Prefix check</li>
            <li>`substring()` - Extract substring</li>
            <li>`concat()` - Join strings</li>
          </ul>
        </div>
      </div>
    </div>
  </Tab>
</Tabs>

## 5. XPath Cheatsheet

<div className="p-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-8">
  <h3 className="text-xl font-semibold mb-6 text-gray-800 dark:text-white">Quick Reference Guide</h3>

  <div className="space-y-8">
    <div className="p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg">
      <h4 className="font-semibold text-blue-700 dark:text-blue-300 mb-3">Node Selection</h4>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Basic Selection</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`nodename` - Select all nodes with name</li>
            <li>`/` - Select from root</li>
            <li>`//` - Select from anywhere</li>
            <li>`.` - Select current node</li>
            <li>`..` - Select parent</li>
            <li>`@` - Select attribute</li>
          </ul>
        </div>
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Wildcards</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`*` - Any element</li>
            <li>`@*` - Any attribute</li>
            <li>`node()` - Any node</li>
            <li>`text()` - Text content</li>
          </ul>
        </div>
      </div>
    </div>

    <div className="p-4 bg-green-50 dark:bg-green-900/30 rounded-lg">
      <h4 className="font-semibold text-green-700 dark:text-green-300 mb-3">Predicates</h4>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Position</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`[1]` - First node</li>
            <li>`[last()]` - Last node</li>
            <li>`[position() < 3]` - First two nodes</li>
            <li>`[last() - 1]` - Second to last</li>
          </ul>
        </div>
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Conditions</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`[@attr]` - Has attribute</li>
            <li>`[@attr='val']` - Attribute equals</li>
            <li>`[price > 10]` - Numeric comparison</li>
            <li>`[position() mod 2 = 0]` - Even positions</li>
          </ul>
        </div>
      </div>
    </div>

    <div className="p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg">
      <h4 className="font-semibold text-purple-700 dark:text-purple-300 mb-3">Common Patterns</h4>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Navigation</h5>
          ```xml
          /root/child           <!-- Direct child -->
          //child              <!-- Any descendant -->
          ../sibling           <!-- Sibling access -->
          //*[contains(@class, 'test')] <!-- Attribute contains -->
          //parent[child='value']  <!-- Parent with condition -->
          ```
        </div>
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Advanced Selection</h5>
          ```xml
          //book[position() <= 3]  <!-- First 3 books -->
          //author[text()]         <!-- Non-empty authors -->
          //item[@*]              <!-- Items with attributes -->
          //*[count(child::*) > 2] <!-- Elements with >2 children -->
          ```
        </div>
      </div>
    </div>

    <div className="p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg">
      <h4 className="font-semibold text-yellow-800 dark:text-yellow-300 mb-3">Functions Reference</h4>
      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Node Functions</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`last()`</li>
            <li>`position()`</li>
            <li>`count()`</li>
            <li>`name()`</li>
          </ul>
        </div>
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">String Functions</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`contains()`</li>
            <li>`starts-with()`</li>
            <li>`substring()`</li>
            <li>`string-length()`</li>
          </ul>
        </div>
        <div>
          <h5 className="font-medium text-gray-700 dark:text-gray-300 mb-2">Number Functions</h5>
          <ul className="space-y-2 text-gray-600 dark:text-gray-300">
            <li>`sum()`</li>
            <li>`floor()`</li>
            <li>`ceiling()`</li>
            <li>`round()`</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

## Sources

<div className="p-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm">
  <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
    <a href="https://www.w3.org/TR/xpath/" 
       className="p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg hover:shadow-md transition-shadow">
      <h4 className="font-semibold text-blue-700 dark:text-blue-300">W3C XPath Specification</h4>
      <p className="text-sm text-gray-600 dark:text-gray-300">Official XPath documentation</p>
    </a>
    <a href="https://developer.mozilla.org/en-US/docs/Web/XPath" 
       className="p-4 bg-green-50 dark:bg-green-900/30 rounded-lg hover:shadow-md transition-shadow">
      <h4 className="font-semibold text-green-700 dark:text-green-300">MDN Web Docs</h4>
      <p className="text-sm text-gray-600 dark:text-gray-300">XPath usage and examples</p>
    </a>
    <a href="https://www.w3schools.com/xml/xpath_intro.asp" 
       className="p-4 bg-purple-50 dark:bg-purple-900/30 rounded-lg hover:shadow-md transition-shadow">
      <h4 className="font-semibold text-purple-700 dark:text-purple-300">W3Schools</h4>
      <p className="text-sm text-gray-600 dark:text-gray-300">Interactive XPath tutorial</p>
    </a>
  </div>
</div>